# ğŸ”§ å¿«é€Ÿä¿®å¤æ•°æ®åº“é”™è¯¯

## âŒ é”™è¯¯ä¿¡æ¯

```
æ•°æ®åº“é”™è¯¯: Could not find the 'published_at' column of 'events' in the schema cache
```

## âœ… è§£å†³æ–¹æ¡ˆ

### æ­¥éª¤ 1: æ‰§è¡Œ SQL è„šæœ¬æ·»åŠ ç¼ºå¤±çš„åˆ—

1. **è®¿é—® Supabase Dashboard**
   - æ‰“å¼€ https://app.supabase.com
   - é€‰æ‹©ä½ çš„é¡¹ç›®

2. **æ‰“å¼€ SQL Editor**
   - å·¦ä¾§èœå•ï¼šSQL Editor
   - ç‚¹å‡» "New query"

3. **æ‰§è¡Œä»¥ä¸‹ SQL**ï¼ˆæœ€ç®€å•çš„æ–¹å¼ï¼‰

```sql
-- æ·»åŠ  published_at åˆ—
ALTER TABLE events 
ADD COLUMN IF NOT EXISTS published_at TIMESTAMPTZ;
```

4. **ç‚¹å‡» "Run" æ‰§è¡Œ**

5. **éªŒè¯åˆ—å·²æ·»åŠ **ï¼ˆå¯é€‰ï¼‰

```sql
-- æ£€æŸ¥åˆ—æ˜¯å¦å­˜åœ¨
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'events' 
AND column_name = 'published_at';
```

---

### æ­¥éª¤ 2: å¯ç”¨ä»£ç ä¸­çš„ published_at åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³è®°å½•å‘å¸ƒæ—¶é—´ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ï¼š

1. **æ‰“å¼€æ–‡ä»¶**
   ```
   admin-console/app/api/events/route.ts
   ```

2. **æ‰¾åˆ°çº¦ç¬¬ 68 è¡Œ**ï¼Œå–æ¶ˆæ³¨é‡Šï¼š

   **ä¿®æ”¹å‰ï¼š**
   ```typescript
   // dbData.published_at = now
   ```

   **ä¿®æ”¹åï¼š**
   ```typescript
   dbData.published_at = now
   ```

3. **ä¿å­˜æ–‡ä»¶**

4. **åˆ·æ–°æµè§ˆå™¨é¡µé¢**ï¼ˆä»£ç ä¼šè‡ªåŠ¨çƒ­é‡è½½ï¼‰

---

## âœ¨ å®Œæˆå

ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨"ä¿å­˜è‰ç¨¿"å’Œ"ç¡®è®¤å‘å¸ƒ"åŠŸèƒ½äº†ï¼

### æµ‹è¯•æ­¥éª¤

1. åœ¨ AI æ™ºèƒ½é‡‡é›†å°è¾“å…¥å†…å®¹
2. ç‚¹å‡» "AI è¯†åˆ«"
3. ç‚¹å‡» "ä¿å­˜è‰ç¨¿" æˆ– "ç¡®è®¤å‘å¸ƒ"
4. âœ… åº”è¯¥çœ‹åˆ°æˆåŠŸæç¤ºï¼Œä¸å†æœ‰æ•°æ®åº“é”™è¯¯

---

## ğŸ“‹ å®Œæ•´æ‰©å±•è„šæœ¬ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³å®Œæ•´æ‰©å±• `events` è¡¨ï¼ˆåŒ…æ‹¬ `published_by` ç­‰å­—æ®µï¼‰ï¼Œå¯ä»¥æ‰§è¡Œï¼š

```sql
-- å‚è€ƒï¼šadmin-console/scripts/extend_events_table.sql
```

---

**æç¤º**ï¼šå¦‚æœåªæ˜¯å¿«é€Ÿä¿®å¤å½“å‰é”™è¯¯ï¼Œæ‰§è¡Œæ­¥éª¤ 1 çš„ SQL å³å¯ï¼ŒåŠŸèƒ½å°±èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚
