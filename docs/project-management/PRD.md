# 产品需求文档 (PRD) - CDC 智汇 (InfoHub)

**版本号**：V3.1.0  
**状态**：已完成  
**最后更新**：2025年12月12日

---

## 核心理念

**做"工具"而非"平台"** —— 随手存、随手查、不打扰。

---

## 1. 产品定位与目标

### 1.1 核心痛点

- **过载**：CDC 官方群消息每天数百条，重要招聘/讲座被淹没
- **难找**：聊天记录搜索体验极差，无法结构化筛选（如按"实习"或"全职"）
- **易忘**：看到好机会当时没空投，过会儿就找不到了

### 1.2 产品形态

- **定位**：基于微信小程序的信息聚合器 + 个人备忘录
- **关键差异**：
  - 不强制注册
  - 不收集隐私
  - 不需老师后台操作
  - 纯自动化运行

---

## 2. 核心功能模块 (Feature Specs)

### 2.1 首页 (Information Feed)

#### 顶部导航
- **搜索框**：支持关键词搜索（公司名、职位）
- **筛选 Tab**：`[全部]` / `[实习招聘]` / `[讲座活动]`

#### 公告区
- 置顶一条管理员配置的重要通知（如就业手续指南）
- ⚠️ **当前状态**：已移除（根据用户反馈）

#### 信息流卡片
- **展示字段**：
  - 标题
  - 来源群（如"CDC 1群"）
  - 发布时间（如"10分钟前"）
  - 核心 Tag（AI 自动提取）
- **状态标识**：若当前时间 > 截止日期，卡片置灰或显示"已过期"
- **快捷交互**：卡片右上角心形按钮，点击直接收藏/取消

### 2.2 详情页 (Detail View)

#### 结构化展示
- 优先展示 AI 提取的 **时间、地点、截止日期**，避免用户阅读长文
- 关键信息卡片化展示

#### 原始凭证
- 提供"查看原始文本"折叠框
- 提供"查看原始海报"大图预览（如有）

#### 行动点 (Call to Action)
- **复制投递链接**：如果是邮箱或网址，点击按钮自动复制到剪贴板，并 Toast 提示"已复制，去发送邮件吧"
- **保存二维码**：如果是二维码图片，支持长按保存或点击放大
- **添加日历**：调用微信 `addPhoneCalendar` 接口，将讲座时间写入手机日历

### 2.3 个人中心 (Profile - Lite)

#### 身份识别
- 基于 OpenID 静默登录
- UI 展示：显示微信头像（可选），文案"微信用户"

#### 我的收藏
- 列表展示用户点过"红心"的活动
- 按收藏时间倒序

#### 浏览足迹
- 自动记录最近点击过的 20 条详情页
- 方便回溯

---

## 3. 技术与数据架构

### 3.1 数据库 Schema (最终确认版)

无需复杂的关联，**3张表搞定**：

#### events (活动主表)
```sql
id: bigint (PK)
title: text (标题)
type: text ('recruit' | 'activity' | 'lecture')
key_info: jsonb (存 date, time, location, deadline)
raw_content: text (原始文本)
source_group: text (来源群名)
status: text ('active' | 'expired')
created_at: timestamp
```

#### users (用户表 - 极简)
```sql
openid: text (PK, 微信唯一标识)
last_seen: timestamp (最后访问时间)
```

#### favorites (收藏关系表)
```sql
id: bigint (PK)
user_id: text (FK -> users.openid)
event_id: bigint (FK -> events.id)
created_at: timestamp
```

### 3.2 AI 数据清洗流水线

- **输入**：微信群文本 / 海报图片 URL / 公众号链接
- **处理**：Python 脚本 + DeepSeek API
- **输出**：结构化 JSON -> 写入 events 表
- **去重**：智能标题标准化 + 相似度匹配

---

## 4. 交互与体验细节 (UX Guidelines)

### 加载状态
- 数据请求期间使用 **Skeleton (骨架屏)** 而不是简单的 Loading 转圈，提升高级感

### 空状态
- 当"我的收藏"为空时，显示引导文案："还没有收藏，去首页看看感兴趣的机会吧"
- 当搜索结果为空时，显示："没有找到相关内容，试试其他关键词吧"

### 反馈机制
- 所有操作（收藏、复制、报错）必须有 **Toast 提示**，不要让用户猜
- 操作成功：绿色 Toast
- 操作失败：红色 Toast + 错误原因

---

## 5. 运营策略 (Go-to-Market)

### 入口策略
- **群工具置顶**：联系老师将小程序设为"群工具置顶"，作为常驻入口
- **周五汇总**：每周五下午，生成一张"本周热门 Top 5"的海报（带小程序码），发到群里

### 冷启动数据
- 上线前，务必使用 AI 脚本预先清洗并导入 **过去 2 周** 的有效群消息（约 20-30 条）
- 确保第一批用户进来不看空页面

---

## 6. 开发状态与路线图

### ✅ 已完成功能（100%）

**核心功能**
- [x] 首页 Feed 展示
- [x] 分类筛选（全部/实习招聘/讲座活动）
- [x] 搜索功能（关键词搜索）
- [x] 详情页展示（结构化信息）
- [x] Supabase 数据库集成
- [x] AI 多模态信息采集（文本/链接/图片）
- [x] 智能去重机制
- [x] 数据清理工具

**用户功能**
- [x] OpenID 静默登录
- [x] 收藏功能（收藏/取消收藏）
- [x] 收藏列表页面
- [x] 浏览历史记录
- [x] 浏览历史页面
- [x] 个人中心页面

**行动点功能**
- [x] 添加到日历（调用微信 API）

**UI/UX 优化**
- [x] Skeleton 骨架屏加载
- [x] 空状态处理
- [x] 过期状态标识
- [x] 淡入淡出过渡动画

**管理后台**
- [x] 登录与权限管理
- [x] AI 智能采集台
- [x] 内容管理（CMS）
- [x] 数据看板

### 📋 可选优化（P2）

- [ ] 复制投递链接功能
- [ ] 保存二维码功能
- [ ] 网络错误重试机制
- [ ] 真机测试和调优

---

## 7. 发布清单 (Release Checklist)

### 发布前准备

1. **数据检查**：确保数据库有足够的真实数据
2. **功能测试**：在真机上测试所有功能
3. **UI 检查**：检查各种屏幕尺寸的显示效果
4. **性能测试**：确保加载速度和动画流畅

### 提审准备

1. **小程序介绍**：准备简洁的功能介绍文案
2. **截图准备**：准备 5 张高质量截图
3. **类目选择**：选择合适的小程序类目
4. **隐私协议**：确保隐私政策合规

---

**文档维护**：本文档将随开发进度持续更新。





