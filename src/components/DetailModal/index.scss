@import '../../styles/theme.scss';
@import '../../styles/mixins.scss';

.detail-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  background-color: #F5F3FF;
  display: flex;
  flex-direction: column;
}

// 1. 顶部操作栏 - 参照图 1：有淡淡的紫色背景底色，但无图标圆圈
.detail-header-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 110rpx; // 稍微加高一点
  padding: 0 30rpx;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 10;
  background-color: #F5F3FF; // 淡淡的紫色底色，与背景一致
  pointer-events: none;

  .back-icon, .right-icons {
    pointer-events: auto;
  }

  .back-icon {
    font-size: 50rpx;
    color: #4B5563;
    padding: 10rpx;
    margin-top: 10rpx;
  }

  .right-icons {
    display: flex;
    align-items: center;
    gap: 30rpx;
    margin-top: 10rpx;
  }
}

// 2. 滚动内容区 - 修复卡住问题
.detail-scroll-view {
  height: 100%;
  width: 100%;
}

.detail-inner-content {
  padding: 120rpx 40rpx 0;
}

.detail-title-main {
  font-size: 42rpx;
  font-weight: bold;
  color: #1F2937;
  line-height: 1.4;
  margin-bottom: 40rpx;
  display: block;
}

.detail-cards-stack {
  display: flex;
  flex-direction: column;
  gap: 30rpx;
}

.info-glass-card {
  background: #FFFFFF;
  border-radius: 30rpx;
  padding: 40rpx;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);
}

.card-label-purple {
  font-size: 28rpx;
  color: #8B5CF6; // 图 2 的紫色标题
  font-weight: bold;
  margin-bottom: 30rpx;
  display: block;
}

.info-list {
  display: flex;
  flex-direction: column;
  gap: 30rpx;
}

.info-row {
  display: flex;
  gap: 20rpx;
}

.info-row-icon {
  width: 60rpx;
  height: 60rpx;
  background: #F3E8FF;
  border-radius: 12rpx;
  @include flex-center;
  flex-shrink: 0;
  font-size: 30rpx;
}

.info-row-main {
  flex: 1;
}

.info-row-label {
  font-size: 22rpx;
  color: #9CA3AF;
  margin-bottom: 4rpx;
  display: block;
}

.info-row-value-wrap {
  display: flex;
  align-items: center;
  gap: 15rpx;
}

.info-row-value {
  font-size: 28rpx;
  color: #374151;
  font-weight: 600;
  word-break: break-all;
  flex: 1;
}

// 统一所有 Copy 按钮样式
.mini-copy-btn, .copy-link-btn {
  flex-shrink: 0;
  padding: 6rpx 16rpx;
  background: #8B5CF6;
  color: #FFFFFF !important;
  font-size: 20rpx;
  border-radius: 8rpx;
  line-height: 1.2;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 15rpx;
  
  &:active {
    opacity: 0.8;
    transform: scale(0.95);
  }
}

.details-text {
  font-size: 28rpx;
  color: #4B5563;
  line-height: 1.6;

  .detail-summary-text {
    display: block;
    font-weight: 500;
    margin-bottom: 20rpx;
    color: #1F2937;
  }

  .detail-divider {
    height: 1rpx;
    background: #E5E7EB;
    margin: 20rpx 0;
    width: 100%;
  }

  // 链接识别样式
  .link-container {
    display: flex;
    align-items: center;
    gap: 15rpx;
    margin: 10rpx 0;
    
    .link-text {
      flex: 1;
      color: inherit; // 链接不使用紫色，跟随正文颜色
      font-size: 28rpx;
      word-break: break-all;
      text-decoration: underline; // 保留下划线
    }
  }
}

.poster-area {
  margin-top: 30rpx;
  
  .poster-img {
    width: 100%;
    border-radius: 20rpx;
  }
  
  .action-link-btn {
    width: 100%;
    background: #F3E8FF;
    border: 2rpx dashed #8B5CF6;
    color: #8B5CF6;
    font-size: 26rpx;
    border-radius: 20rpx;
    height: 80rpx;
    @include flex-center;
  }
}

// 3. 底部固定条
.fixed-bottom-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  padding: 20rpx 40rpx;
  z-index: 20;
}

.calendar-btn {
  width: 100%;
  height: 90rpx;
  background: linear-gradient(90deg, #8B5CF6, #A78BFA);
  color: #FFFFFF;
  border-radius: 45rpx;
  font-size: 30rpx;
  font-weight: bold;
  @include flex-center;
  box-shadow: 0 10rpx 20rpx rgba(139, 92, 246, 0.3);
  border: none;
}
